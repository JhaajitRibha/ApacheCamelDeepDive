package com.apache.camel.ajit.camel_microservice_samar.router;

import org.apache.camel.builder.RouteBuilder;
import org.springframework.stereotype.Component;

@Component
public class FileRouter extends RouteBuilder{

	@Override
	public void configure() throws Exception {
		from("file:files/input.txt?noop=true&delay=120000")
	    .routeId("fileRoute")
	    .log("Reading file: ${header.CamelFileName}")
	    .process(exchange -> {
	        String body = exchange.getIn().getBody(String.class);
	        System.out.println("File content via processor: " + body);
	        exchange.getIn().setBody(body);
	    })
	    .log("File content after processor: ${body}");

        
	}

}
